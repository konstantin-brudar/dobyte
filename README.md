# Тестовое задание Дубайт

## Задача

В данной задаче будут рассматриваться 13-ти значные числа в тринадцатеричной системе исчисления (цифры 0,1,2,3,4,5,6,7,8,9,A,B,C) с ведущими нулями.

Например, ABA98859978C0, 6789110551234, 0000007000000.

Назовем число красивым, если сумма его первых шести цифр равна сумме шести последних цифр.

Пример:
- Число 0055237050A00 - красивое, так как 0+0+5+5+2+3 = 0+5+0+A+0+0
- Число 1234AB988BABA - некрасивое, так как 1+2+3+4+A+B != 8+8+B+A+B+A

Задача: написать программу на С/С++ печатающую в стандартный вывод количество 13-ти значных красивых чисел с ведущими нулями в тринадцатеричной системе исчисления.

## Решение

Всего 13-ти значных чисел в тринадцатеричной системе исчисления с ведущими нулями будет 13^13 штук, что примерно составляет 3 * 10^14.
Полный перебор всех чисел для подсчета количества чисел с нужным свойством займет очень много времени, поэтому попробуем решить задачу другим способом.

Сумма S шести тринадцатеричных цифр с ведущими нулями лежит в диапазоне от 0 до 12 * 6 = 72 включительно.

Все красивые числа можно разделить на группы в зависимости от суммы S первых (а равно и последних) шести цифр.

В каждой такой группе будет шестизначный префикс, одна цифра посередине и шестизначный постфикс.

Обозначим как count(S) функцию, вычисляющую количество шестизначных тринадцатеричных чисел с ведущими нулями, сумма цифр которых равна S.

Количество чисел в группе group_count(S) = count(S) * 13 * count(S) = 13 * (count(S))^2.

Общее количество красивых чисел:

N = group_count(0) + group_count(1) + ... + group_count(72).

Решение задачи сводится к вычислению count(0), count(1), ... , count(72).

Решать будем методом динамического программирования снизу.
Предположим, что уже известны количества (p-1)-значных чисел с суммой цифр s, s-1, s-2, ... , s-12.
Тогда у нас есть 13 способов выбрать еще один знак (от 0 до 12), чтобы получить количество p-значных чисел с суммой цифр s.
Например, если известно количество 4-значных чисел с суммой цифр 7, то для получения 5-значного числа с суммой цифр 9 необходимо добавить 1 знак с цифрой 2.

Обозначим через count(p,s) искомую функцию подсчета количества p-значных чисел с суммой цифр s.
В этом случае рекурсивная формула получится следующая:

count(p,s) = count(p-1,s) + count(p-1,s-1) + count(p-1,s-2) + ... + count(p-1,s-12).

Построим таблицу T, в которой номер строки p (от 0 до 6) соответствует количеству знаков в числе, номер столбца s (от 0 до 72) - сумме цифр числа.
На пересечении строки p и столбца s в клетке таблицы T[p][s] будет записываться count(p,s) - количество p-значных чисел с суммой цифр s.
Нулевую строку заполним следующим образом: T[0][0] = 1, T[0][i] = 0 для i = 1, 2, ... , 72.
Далее продолжим заполнять таблицу построчно сверху вниз и слева направо по формуле:

T[i][j] = sum(T[i-1][j-d]), где суммирование ведется по d от 0 до 12 при условии d <= j, а параметры принимают значения i от 1 до 6, j от 0 до 72.

Написана программа на языке C++, с помощью которой были произведены вычисления и получен ответ.

Количество красивых чисел равно 9203637295151.

